<div class="renderer__container">
  <div class="renderer____content">
    <ng-container *ngFor="let parent of document">
      <ng-container *ngTemplateOutlet="parentEl; context: {parent}"></ng-container>
    </ng-container>
  </div>
</div>

<ng-template #parentEl let-parent="parent">
  <ng-container [ngSwitch]="parent.type">
    <ng-container *ngSwitchCase="'heading'">
      <ng-container *ngTemplateOutlet="headingEl; context: {item: parent}"></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'paragraph'">
      <ng-container *ngTemplateOutlet="paragraphEl; context: {item: parent}"></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'layout'">
      <ng-container *ngTemplateOutlet="layoutEl; context: {item: parent}"></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'unordered-list'">
      <ng-container *ngTemplateOutlet="unorderedListEl; context: {item: parent}"></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'ordered-list'">
      <ng-container *ngTemplateOutlet="orderedListEl; context: {item: parent}"></ng-container>
    </ng-container>
  </ng-container>
</ng-template>

<ng-template #unorderedListEl let-item="item">
  <ul>
    <ng-container *ngFor="let list of item.children">
      <li>
        <ng-container *ngFor="let itemList of list.children">
          <ng-container *ngTemplateOutlet="children; context: {item: itemList.children}"></ng-container>
        </ng-container>
      </li>
    </ng-container>
  </ul>
</ng-template>

<ng-template #orderedListEl let-item="item">
  <ol>
    <ng-container *ngFor="let list of item.children">
      <li>
        <ng-container *ngFor="let itemList of list.children">
          <ng-container *ngTemplateOutlet="children; context: {item: itemList.children}"></ng-container>
        </ng-container>
      </li>
    </ng-container>
  </ol>
</ng-template>

<ng-template #headingEl let-item="item">
  <ng-container [ngSwitch]="item.level">
    <h1 *ngSwitchCase="1" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h1>
    <h2 *ngSwitchCase="2" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h2>
    <h3 *ngSwitchCase="3" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h3>
    <h4 *ngSwitchCase="4" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h4>
    <h5 *ngSwitchCase="5" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h5>
    <h6 *ngSwitchCase="6" [style.text-align]="item.textAlign">
      <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
    </h6>
  </ng-container>
</ng-template>

<ng-template #paragraphEl let-item="item">
  <p [style.text-align]="item.textAlign">
    <ng-container *ngTemplateOutlet="children; context: {item: item.children}"></ng-container>
  </p>
</ng-template>

<ng-template #children let-item="item">
  <ng-container *ngFor="let child of item">
    <span [childrenRender]="child"></span>
  </ng-container>
</ng-template>

<ng-template #layoutEl></ng-template>
